<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Home Automation</title>
	<script src="js/jquery-2.1.4.min.js"></script>
	<script src="js/jquery.mobile.custom.min.js"></script>
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<script src="js/functions.js"></script>
	<script src="js/highcharts.js"></script>
	<link rel="stylesheet" href="themes/controller.min.css" />
	<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
	<link rel="stylesheet" href="themes/jquery.mobile.structure-1.4.5.css" />
	<link rel="stylesheet" href="themes/style.css" />
</head>
<body>

<!-- lighting page -->
	<div data-role="page" id="lightsfans">

		<!-- navbar -->
			<div data-role="navbar">
				<ul>
					<li><a class="ui-disabled" href="#lightsfans">Lights / Fans</a></li>
					<li><a href="#security">Security</a></li>
					<li><a href="#scenes">Scenes</a></li>
					<li><a href="#charts">Charts</a></li>
					<li><a href="#exp">Experimental</a></li>
				</ul>
			</div>
		<!-- /navbar -->

		<!-- lighting -->
			<div data-role="header">
				<h1> Light Switches </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="lightBoard" class="ui-grid-d">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /lighting -->

		<!-- fans -->
			<div data-role="header">
				<h1> Fans </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="fanBoard" class="ui-grid-d">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /fans -->

		<!-- footer -->
			<div data-role="footer">
				<h4>&nbsp;</h4>
			</div>
		<!-- /footer -->

	</div>
<!-- /lighting page -->


<!-- security page -->
	<div data-role="page" id="security">

		<!-- navbar -->
			<div data-role="navbar">
				<ul>
					<li><a href="#lightsfans">Lights / Fans</a></li>
					<li><a class="ui-disabled" href="#security">Security</a></li>
					<li><a href="#scenes">Scenes</a></li>
					<li><a href="#charts">Charts</a></li>
					<li><a href="#exp">Experimental</a></li>
				</ul>
			</div>
		<!-- /navbar -->

		<!-- security -->
			<div data-role="header">
				<h1> Security </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="securityBoard" class="ui-grid-d">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /security -->

		<!-- doors -->
			<div data-role="header">
				<h1> Doors </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="doorBoard" class="ui-grid-d">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /doors -->

		<!-- footer -->
			<div data-role="footer">
				<h4>&nbsp;</h4>
			</div>
		<!-- /footer -->
	</div>
<!-- /security page -->


<!-- scenes page -->
	<div data-role="page" id="scenes">

		<!-- navbar -->
			<div data-role="navbar">
				<ul>
					<li><a href="#lightsfans">Lights / Fans</a></li>
					<li><a href="#security">Security</a></li>
					<li><a class="ui-disabled" href="#scenes">Scenes</a></li>
					<li><a href="#charts">Charts</a></li>
					<li><a href="#exp">Experimental</a></li>
				</ul>
			</div>
		<!-- /navbar -->

		<!-- scenes -->
			<div data-role="header">
				<h1> Scenes </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="scenesBoard" class="ui-grid-d">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /scenes -->

		<!-- footer -->
			<div data-role="footer">
				<h4>&nbsp;</h4>
			</div>
		<!-- /footer -->
	</div>
<!-- /scenes page -->


<!-- charts page -->
	<div data-role="page" id="charts">

		<!-- navbar -->
			<div data-role="navbar">
				<ul>
					<li><a href="#lightsfans">Lights / Fans</a></li>
					<li><a href="#security">Security</a></li>
					<li><a href="#scenes">Scenes</a></li>
					<li><a class="ui-disabled" href="#charts">Charts</a></li>
					<li><a href="#exp">Experimental</a></li>
				</ul>
			</div>
		<!-- /navbar -->

		<!-- charts -->
			<div data-role="header">
				<h1> Charts </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="chartsBoard">
				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /scenes -->

		<!-- footer -->
			<div data-role="footer">
				<h4>&nbsp;</h4>
			</div>
		<!-- /footer -->
	</div>
<!-- /charts page -->



<!-- exp page -->
	<div data-role="page" id="exp">

		<!-- navbar -->
			<div data-role="navbar">
				<ul>
					<li><a href="#lightsfans">Lights / Fans</a></li>
					<li><a href="#security">Security</a></li>
					<li><a href="#scenes">Scenes</a></li>
					<li><a href="#charts">Charts</a></li>
					<li><a class="ui-disabled" href="#exp">Experimental</a></li>
				</ul>
			</div>
		<!-- /navbar -->

		<!-- charts -->
			<div data-role="header">
				<h1> Experimental </h1>
			</div><!-- /header -->

			<div data-role="content">
				<div id="expBoard">

					<link rel="stylesheet" href="microphone/microphone.min.css">

					<center><div id="microphone"></div></center>
			    <pre id="result"></pre>
			    <div id="info"></div>
			    <div id="error"></div>

					<script src="microphone/microphone.min.js"></script>

			    <script>
			      var mic = new Wit.Microphone(document.getElementById("microphone"));
			      var info = function (msg) {
			        document.getElementById("info").innerHTML = msg;
			      };
			      var error = function (msg) {
			        document.getElementById("error").innerHTML = msg;
			      };
			      mic.onready = function () {
			        info("Microphone is ready to record");
			      };
			      mic.onaudiostart = function () {
			        info("Recording started");
			        error("");
			      };
			      mic.onaudioend = function () {
			        info("Recording stopped, processing started");
			      };
			      mic.onresult = function (intent, entities) {
			        var r = kv("intent", intent);

			        for (var k in entities) {
			          var e = entities[k];

			          if (!(e instanceof Array)) {
			            r += kv(k, e.value);
			          } else {
			            for (var i = 0; i < e.length; i++) {
			              r += kv(k, e[i].value);
			            }
			          }
			        }

			        document.getElementById("result").innerHTML = r;
			      };
			      mic.onerror = function (err) {
			        error("Error: " + err);
			      };
			      mic.onconnecting = function () {
			        info("Microphone is connecting");
			      };
			      mic.ondisconnected = function () {
			        info("Microphone is not connected");
			      };

			      mic.connect("3RKVDARFNBKXOPAHP5B6Z2P5GAMDGNJE");
			      // mic.start();
			      // mic.stop();

			      function kv (k, v) {
			        if (toString.call(v) !== "[object String]") {
			          v = JSON.stringify(v);
			        }
			        return k + "=" + v + "\n";
			      }
			    </script>


				</div><!-- /grid-d -->
			</div><!-- /content -->
		<!-- /scenes -->

		<!-- footer -->
			<div data-role="footer">
				<h4>&nbsp;</h4>
			</div>
		<!-- /footer -->
	</div>
<!-- /exp page -->


</body>
</html>
